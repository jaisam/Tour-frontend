<section class="section-header">
    <div class="header__hero">
        <div class="header__hero-overlay">&nbsp;</div>
        <img class="header__hero-img" src="{{ tour.imageCover }}" alt="{{ tour.name }}" />
    </div>
    <div class="heading-box">
        <h1 class="heading-primary">
            <span>{{ tour.name }}</span>
        </h1>
        <div class="heading-box__group">
            <div class="heading-box__detail">
                <svg class="heading-box__icon">
                    <use xlink:href="../../assets/img/icons.svg#icon-clock"></use>
                </svg><span class="heading-box__text">{{ tour.duration }} days</span>
            </div>
            <div class="heading-box__detail">
                <svg class="heading-box__icon">
                    <use xlink:href="../../assets/img/icons.svg#icon-map-pin"></use>
                </svg>
                <span class="heading-box__text">{{ tour.startLocation.description }}</span>
            </div>
        </div>
    </div>
</section>
<section class="section-description">
    <div class="overview-box">
        <div>
            <div class="overview-box__group">
                <h2 class="heading-secondary ma-bt-lg">Quick facts</h2>
                <div class="overview-box__detail">
                    <svg class="overview-box__icon">
                        <use xlink:href="../../assets/img/icons.svg#icon-calendar"></use>
                    </svg>
                    <span class="overview-box__label">Next date</span>
                    <span class="overview-box__text">{{ tour.startDates[0] | monthYearFormat }}</span>
                </div>
                <div class="overview-box__detail">
                    <svg class="overview-box__icon">
                        <use xlink:href="../../assets/img/icons.svg#icon-trending-up"></use>
                    </svg>
                    <span class="overview-box__label">Difficulty</span>
                    <span class="overview-box__text">{{ tour.difficulty }}</span></div>
                <div class="overview-box__detail">
                    <svg class="overview-box__icon">
                        <use xlink:href="../../assets/img/icons.svg#icon-user"></use>
                    </svg>
                    <span class="overview-box__label">Participants</span>
                    <span class="overview-box__text">{{ tour.maxGroupSize }} people</span></div>
                <div class="overview-box__detail">
                    <svg class="overview-box__icon">
                        <use xlink:href="../../assets/img/icons.svg#icon-star"></use>
                    </svg>
                    <span class="overview-box__label">Rating</span>
                    <span class="overview-box__text">{{ tour.ratingsAverage }} / 5</span>
                </div>
            </div>
            <div class="overview-box__group">
                <h2 class="heading-secondary ma-bt-lg">Your tour guides</h2>
                <div *ngFor="let guide of tour.guides">
                    <div class="overview-box__detail">
                        <img class="overview-box__img" src="{{ guide.photo }}" alt="{{ guide.name }}" />
                        <span class="overview-box__label">
                            <div *ngIf=" guide.role === 'lead-guide'; then lead_guide else tour_guide ">
                            </div>
                            <ng-template #lead_guide>Lead guide </ng-template>
                            <ng-template #tour_guide>Tour guide</ng-template>
                        </span>
                        <span class="overview-box__text">{{ guide.name }}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="description-box">
        <h2 class="heading-secondary ma-bt-lg">About {{ tour.name }} tour</h2>
        <p class="description__text">{{ tour.description }} </p>
    </div>
</section>
<section class="section-pictures" *ngFor=" let image of tour.images">
    <div class="picture-box">
        <img class="picture-box__img picture-box__img--1" src="{{ image }}" alt="{{ tour.name }}" />
    </div>
</section>
<section class="section-reviews">
    <div class="reviews">
        <div *ngFor="let review of tour.reviews">
            <div class="reviews__card">
                <div class="reviews__avatar">
                    <img class="reviews__avatar-img" src="{{ review.user.photo }}" alt="{{ review.user.name }}" />
                    <h6 class="reviews__user">{{ review.user.name }}</h6>
                </div>
                <p class="reviews__text">{{ review.review }}</p>
                <div class="reviews__rating">
                    <div *ngFor="let number of stars">
                        <div *ngIf="review.rating >= number ; then active_star else inactive_star">
                        </div>
                        <ng-template #active_star>
                            <svg class="reviews__star reviews__star--active">
                                <use xlink:href="../../assets/img/icons.svg#icon-star"></use>
                            </svg>
                        </ng-template>
                        <ng-template #inactive_star>
                            <svg class="reviews__star reviews__star--inactive">
                                <use xlink:href="../../assets/img/icons.svg#icon-star"></use>
                            </svg>
                        </ng-template>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<section class="section-cta">
    <div class="cta">
        <div class="cta__img cta__img--logo">
            <img src="../../../assets/img/logo-white.png" alt="Natours logo" />
        </div>
        <img class="cta__img cta__img--1" src="{{ tour.images[1] }}" alt="{{ tour.name }}" />
        <img class="cta__img cta__img--2" src="{{ tour.images[2] }}" alt="{{ tour.name }}" />
        <div class="cta__content">
            <h2 class="heading-secondary">What are you waiting for?</h2>
            <p class="cta__text">{{ tour.duration }} days. 1 adventure. Infinite memories. Make it yours today!</p>
            <a class="btn btn--green span-all-rows" routerLink="/login">Login to book tour</a>
        </div>
    </div>
</section>